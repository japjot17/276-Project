<!DOCTYPE html>

<html lang = 'en' dir = 'ltr'>

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="stylesheets/playlistgenerates.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link
        href="https://fonts.googleapis.com/css2?family=Abel&display=swap"
        rel="stylesheet"
      />
      <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
      <link rel="stylesheet" href="./stylesheets/navbar.css" />
      <script src="scripts/navbar.js" defer></script>
      <script src="scripts/generate-playlist.js" defer></script>
    </head>
    
    <body>
    <!-- navbar start -->
    <header>
        <!-- logo start -->
        <div class="logo">
          <img src="./media/note.png" alt="Music Note" />
          PERSONGIFY
        </div>
        <!-- logo end -->
        <!-- hamburger menu start -->
        <a href="#" class="toggle-button">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </a>
        <!-- hamburger menu end -->
        <!-- links start here -->
        <nav class="navbar">
          <ul>
            <li><a href="/home">Home</a></li>
            <li>
              <a href="/songs">Discover +</a>
              <ul>
                <li><a href="/songs">Create Playlist</a></li>
                <li><a href="/new-distance-playlist">Commute</a></li>
                <li><a href="/review">Year In Review</a></li>
              </ul>
            </li>
            <li><a href="/trending">Trending</a></li>
            <li>
              <a href="/account">Hello, <%= locals.username %></a>
              <ul>
                <li><a href="/account">Account Info</a></li>
                <li><a href="/playlists">Saved Playlist</a></li>
                <li><a href="/logout">Log Out</a></li>
              </ul>
            </li>
          </ul>
        </nav>
        <!-- links ends here -->
      </header>
      <!-- navbar ends -->
        <div class="musicCreatpart">
        <div class="musicbody">
            <div class="musiccreater"> 
                <form method = "post" action = "/songs">
    
      
                    <h1>Generating Recommendations</h1><br>
                   
                    <input type = "number" name = "limit" value = "" placeholder = "number of songs">
                    <label for ="genre">select genre</label>
                    <select id = "genre" name = "genre">
                        <option value = "hip-hop">hip-hop</option>
                        <option value = "rock">rock</option>
                        <option value = "sad">sad</option>
                        <option value = "romance">romance</option>
                        <option value = "jazz">jazz</option>
                        <option value = "r-n-b">r-n-b</option>
                        <option value = "acoustic">acoustic</option>
                        <option value = "bluegrass">bluegrass</option>
                        <option value = "classical">classical</option>
                        <option value ="country">country</option>
                        <option value ="dancehall">dancehall</option>
                        <option value = "dubstep">dubstep</option>
                        <option value = "folk">folk</option>
                        <option value = "latin">latin</option>
                        <option value ="metal">metal</option>
                        <option value ="soul">soul</option>
                        <option value ="work-out">work-out</option>
                        <option value ="study">study</option>
        
                    </select> <br><br>
        
                    <h2>Parameters (enter values between 0 and 1)</h2><br>
                          
                    <input type = "number" step = "0.01" name = "danceability" value = "" placeholder = "danceability"> 
                    <input type = "number" step = "0.01" name = "energy" value = "" placeholder = "energy">
                    <input type = "number" step = "0.01" name ="acousticness" value="" placeholder="acousticness"><br><br>
        
                    <h2>Enter your current favourite artist and track to improve recommendations</h2>
                    <label for ="artist">artist name</label>
                    <input id ="artist" type = "text" name = "seed_artist" value ="" placeholder = "(Ex. Kendrick Lamar)"><br>
                    <label for ="seed_song">song name</label>
                    <input id ="seed_song" type = "text" name ="seed_song" value ="" placeholder ="(Ex.First Class)"><br><br>
        
                   
            
                    <!--<input type = "submit" name  = "sub" value = "send to server">-->
                    <button id = "button" type = "submit" name = "button" value = "add"> Create </button>
                    
                    
                    </form>
        </div>
        
    </div>
    
    <div class="list">
        <div class="musiccreater">
          <div id="genre-placeholder" style="display:none"><%= genre %></div>
        <h1>Song Recommendations</h1>
    
        <% for (var i = 0; i<songs.length;i++){ %>
            <li>
                <a class="songName inactive"><%= songs[i] %></a> by <a class="songArtists inactive"><%= artists[i] %></a><a class="songAudio" src="<%= audios[i] %>"></a>
                <iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/<%= audios[i] %>?utm_source=generator" width="100%" height="100" frameBorder="0"
                 allow="clipboard-write; encrypted-media; picture-in-picture"></iframe>

                
              </li>

              <%}%>
              <br>
              <h2 id="recommendation-header">
                  <button class="btn btn-dark" id="save-playlist-button" onclick="addTracks()">Save Playlist</button>
              </h2>
              <form action="/delete" method="POST">
                <button name="clearing" type="submit" class="btn btn-dark">Clear</button>
              </form>
        </div>
    </div>
</div>

    <div class="musicplayer">
        <div class="musicplayer2"> 
            
            <div class="player-controls">
            <iframe id="myiFrame" style="border-radius:12px" 
            width="100%" height="380" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
           
            
        </div>
        </div>
    </div>
</body>

</html>

